<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vim Notes 1 | YSMILES HOME</title><meta name=keywords content="Vim,Python"><meta name=description content="Beginning In fact I have been learning Vim editor for a while. At the beginning, after getting basic knowledge of Python, I just need an editor to write my Python scripts. Before that I used MATLAB and wrote scripts in MATLAB environment. (I changed between MATLAB and Python for several times due to their different advantages, but that is another story.) Since my python primer is A Byte of Python and the author Swaroop C."><meta name=author content="Frederick"><link rel=canonical href=gh.ysmiles.com/posts/vim-notes-1/><link crossorigin=anonymous href=/gh.ysmiles.com/assets/css/stylesheet.ddbf7219471e1126282438a902837d962a32b41ca0eb0fdcbea41bcd83b8d308.css integrity="sha256-3b9yGUceESYoJDipAoN9lioytByg6w/cvqQbzYO40wg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/gh.ysmiles.com/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=gh.ysmiles.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=gh.ysmiles.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=/images/yun-da.png><link rel=mask-icon href=/images/yun-da.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Vim Notes 1"><meta property="og:description" content="Beginning In fact I have been learning Vim editor for a while. At the beginning, after getting basic knowledge of Python, I just need an editor to write my Python scripts. Before that I used MATLAB and wrote scripts in MATLAB environment. (I changed between MATLAB and Python for several times due to their different advantages, but that is another story.) Since my python primer is A Byte of Python and the author Swaroop C."><meta property="og:type" content="article"><meta property="og:url" content="gh.ysmiles.com/posts/vim-notes-1/"><meta property="og:image" content="gh.ysmiles.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-09-12T00:00:00+00:00"><meta property="article:modified_time" content="2016-09-12T00:00:00+00:00"><meta property="og:site_name" content="ysmiles homepage"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="gh.ysmiles.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Vim Notes 1"><meta name=twitter:description content="Beginning In fact I have been learning Vim editor for a while. At the beginning, after getting basic knowledge of Python, I just need an editor to write my Python scripts. Before that I used MATLAB and wrote scripts in MATLAB environment. (I changed between MATLAB and Python for several times due to their different advantages, but that is another story.) Since my python primer is A Byte of Python and the author Swaroop C."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"gh.ysmiles.com/posts/"},{"@type":"ListItem","position":3,"name":"Vim Notes 1","item":"gh.ysmiles.com/posts/vim-notes-1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vim Notes 1","name":"Vim Notes 1","description":"Beginning In fact I have been learning Vim editor for a while. At the beginning, after getting basic knowledge of Python, I just need an editor to write my Python scripts. Before that I used MATLAB and wrote scripts in MATLAB environment. (I changed between MATLAB and Python for several times due to their different advantages, but that is another story.) Since my python primer is A Byte of Python and the author Swaroop C.","keywords":["Vim","Python"],"articleBody":"Beginning In fact I have been learning Vim editor for a while. At the beginning, after getting basic knowledge of Python, I just need an editor to write my Python scripts. Before that I used MATLAB and wrote scripts in MATLAB environment. (I changed between MATLAB and Python for several times due to their different advantages, but that is another story.) Since my python primer is A Byte of Python and the author Swaroop C.H. also have a book A Byte of Vim, I just follow him and build my brief on Vim.\nBasics Always we think Vim is difficult to learn. But after you trying to get started, you won’t find it that hard. Here I don’t introduce it much. Please just go to Interactive Vim tutorial. One can try it for several times to know the basics quickly.\nSearch and replace To become an advanced Vim user, I think the first step is to learn search and replace. I find most of useful information at Vim Tips Wiki. So let’s begin.\nSuppose we have such a test.txt file as follow.\nare you okare you okare you okare you ok are you okare you okare you okare you ok are you okare you okare you okare you ok are you okare you okare you okare you ok First I want to add a space between ‘ok’ and ‘are’ in each line. Use :%s/okare/ok are/g. It will become\nare you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok are you ok Here % means ‘all lines’ and g means ‘global’ for all this pattern in a line.\nAdd ‘!’ to the end of first ‘ok’ in line 2 to 4. Use :2,4s/ok/ok!/\nare you ok are you ok are you ok are you ok are you ok! are you ok are you ok are you ok are you ok! are you ok are you ok are you ok are you ok! are you ok are you ok are you ok Add ‘?’ to the end of line 1 and next line. Use :.,+1s/\\zs\\ze\\n/?/\nare you ok are you ok are you ok are you ok? are you ok! are you ok are you ok are you ok? are you ok! are you ok are you ok are you ok are you ok! are you ok are you ok are you ok Here . means first line, +1 means next line, and +1s means excited. Also \\zs, \\ze means only replacing pattern between them. See next example with :2s/are \\zsyou\\ze ok?/YOU/\nare you ok are you ok are you ok are you ok? are you ok! are you ok are you ok are YOU ok? are you ok! are you ok are you ok are you ok are you ok! are you ok are you ok are you ok Delete last ‘are’ in all lines. :%s/.*\\zsare//\nare you ok are you ok are you ok you ok? are you ok! are you ok are you ok YOU ok? are you ok! are you ok are you ok you ok are you ok! are you ok are you ok you ok Delete last word. :%s/\\s\\+\\w\\+.$//\nare you ok are you ok are you ok you are you ok! are you ok are you ok YOU are you ok! are you ok are you ok you are you ok! are you ok are you ok you Notice here the pattern is somehow difficult than before. \\s+\\w+.$ means a space + a word + a single chracter (here could be ?) and endline. For more details please check regular expression.\nAnd last example. Delete first 2 charactor in each lines. Use :%s/^.\\{1}//\ne you ok are you ok are you ok you e you ok! are you ok are you ok YOU e you ok! are you ok are you ok you e you ok! are you ok are you ok you Other questions:\nDelete second ‘are’ in each lines. Change second last ‘ok’ into upper case. Macro Using macro is very easy. Just start with q followed by a macro name, say a here, and end with another q. Please see this example. Original file is as follow\nHello Thank You Are You OK First go to the line of ‘Hello’ and my control sequence is ^v$y$a = print(\"^[pa\")^[j. Here ^[ means . Then put in 5@a it will become\nHello = print(\"Hello\") Thank = print(\"Thank\") You = print(\"You\") Are = print(\"Are\") You = print(\"You\") OK = print(\"OK\") This is my fist Vim study notes. Hope it would be helpful! To become a master of Vim, there is a long way to go.\n","wordCount":"805","inLanguage":"en","datePublished":"2016-09-12T00:00:00Z","dateModified":"2016-09-12T00:00:00Z","author":{"@type":"Person","name":"Frederick"},"mainEntityOfPage":{"@type":"WebPage","@id":"gh.ysmiles.com/posts/vim-notes-1/"},"publisher":{"@type":"Organization","name":"YSMILES HOME","logo":{"@type":"ImageObject","url":"/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=gh.ysmiles.com accesskey=h title="ysmiles (Alt + H)"><img src=/images/yun-da.png alt aria-label=logo height=35>ysmiles</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=gh.ysmiles.com/gh.ysmiles.com/about title="About me"><span>About me</span></a></li><li><a href=gh.ysmiles.com/gh.ysmiles.com/tags title=Tags><span>Tags</span></a></li><li><a href=gh.ysmiles.com/gh.ysmiles.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=gh.ysmiles.com>Home</a>&nbsp;»&nbsp;<a href=gh.ysmiles.com/posts/>Posts</a></div><h1 class=post-title>Vim Notes 1</h1><div class=post-meta><span title='2016-09-12 00:00:00 +0000 UTC'>September 12, 2016</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Frederick</div></header><div class=post-content><h1 id=beginning>Beginning<a hidden class=anchor aria-hidden=true href=#beginning>#</a></h1><p>In fact I have been learning Vim editor for a while.
At the beginning, after getting basic knowledge of <a href=http://www.python.org>Python</a>, I just need an editor to write my Python scripts.
Before that I used <a href=http://www.mathworks.com>MATLAB</a> and wrote scripts in MATLAB environment.
(I changed between MATLAB and Python for several times due to their different advantages, but that is another story.)
Since my python primer is <a href=http://python.swaroopch.com>A Byte of Python</a> and the author Swaroop C.H. also have a book <a href=http://www.swaroopch.com/notes/vim/>A Byte of Vim</a>, I just follow him and build my brief on Vim.</p><h1 id=basics>Basics<a hidden class=anchor aria-hidden=true href=#basics>#</a></h1><p>Always we think Vim is difficult to learn.
But after you trying to get started, you won&rsquo;t find it that hard.
Here I don&rsquo;t introduce it much.
Please just go to <a href=http://www.openvim.com/>Interactive Vim tutorial</a>.
One can try it for several times to know the basics quickly.</p><h1 id=search-and-replace>Search and replace<a hidden class=anchor aria-hidden=true href=#search-and-replace>#</a></h1><p>To become an advanced Vim user, I think the first step is to learn search and replace.
I find most of useful information at <a href=http://vim.wikia.com/wiki/Search_and_replace>Vim Tips Wiki</a>.
So let&rsquo;s begin.</p><p>Suppose we have such a <code>test.txt</code> file as follow.</p><pre tabindex=0><code>are you okare you okare you okare you ok
are you okare you okare you okare you ok
are you okare you okare you okare you ok
are you okare you okare you okare you ok
</code></pre><p>First I want to add a space between &lsquo;ok&rsquo; and &lsquo;are&rsquo; in each line. Use <code>:%s/okare/ok are/g</code>. It will become</p><pre tabindex=0><code>are you ok are you ok are you ok are you ok
are you ok are you ok are you ok are you ok
are you ok are you ok are you ok are you ok
are you ok are you ok are you ok are you ok
</code></pre><p>Here <em>%</em> means &lsquo;all lines&rsquo; and <em>g</em> means &lsquo;global&rsquo; for all this pattern in a line.</p><p>Add &lsquo;!&rsquo; to the end of first &lsquo;ok&rsquo; in line 2 to 4. Use <code>:2,4s/ok/ok!/</code></p><pre tabindex=0><code>are you ok are you ok are you ok are you ok
are you ok! are you ok are you ok are you ok
are you ok! are you ok are you ok are you ok
are you ok! are you ok are you ok are you ok
</code></pre><p>Add &lsquo;?&rsquo; to the end of line 1 and next line. Use <code>:.,+1s/\zs\ze\n/?/</code></p><pre tabindex=0><code>are you ok are you ok are you ok are you ok?
are you ok! are you ok are you ok are you ok?
are you ok! are you ok are you ok are you ok
are you ok! are you ok are you ok are you ok
</code></pre><p>Here <em>.</em> means first line, <em>+1</em> means next line, and <em>+1s</em> means excited.
Also <em>\zs</em>, <em>\ze</em> means only replacing pattern between them. See next example with <code>:2s/are \zsyou\ze ok?/YOU/</code></p><pre tabindex=0><code>are you ok are you ok are you ok are you ok?
are you ok! are you ok are you ok are YOU ok?
are you ok! are you ok are you ok are you ok
are you ok! are you ok are you ok are you ok
</code></pre><p>Delete last &lsquo;are&rsquo; in all lines. <code>:%s/.*\zsare//</code></p><pre tabindex=0><code>are you ok are you ok are you ok  you ok?
are you ok! are you ok are you ok  YOU ok?
are you ok! are you ok are you ok  you ok
are you ok! are you ok are you ok  you ok
</code></pre><p>Delete last word. <code>:%s/\s\+\w\+.$//</code></p><pre tabindex=0><code>are you ok are you ok are you ok  you
are you ok! are you ok are you ok  YOU
are you ok! are you ok are you ok  you
are you ok! are you ok are you ok  you
</code></pre><p>Notice here the pattern is somehow difficult than before. <em>\s+\w+.$</em> means <em>a space + a word + a single chracter (here could be ?) and endline</em>. For more details please check <a href=https://en.wikipedia.org/wiki/Regular_expression>regular expression</a>.</p><p>And last example. Delete first 2 charactor in each lines. Use <code>:%s/^.\{1}//</code></p><pre tabindex=0><code>e you ok are you ok are you ok  you
e you ok! are you ok are you ok  YOU
e you ok! are you ok are you ok  you
e you ok! are you ok are you ok  you
</code></pre><p>Other questions:</p><ul><li>Delete second &lsquo;are&rsquo; in each lines.</li><li>Change second last &lsquo;ok&rsquo; into upper case.</li></ul><h1 id=macro>Macro<a hidden class=anchor aria-hidden=true href=#macro>#</a></h1><p>Using macro is very easy. Just start with <em>q</em> followed by a macro name, say <em>a</em> here, and end with another <em>q</em>.
Please see this example. Original file is as follow</p><pre tabindex=0><code>Hello
Thank
You
Are
You
OK
</code></pre><p>First go to the line of &lsquo;Hello&rsquo; and my control sequence is <code>^v$y$a = print("^[pa")^[j</code>. Here <em>^[</em> means &lt;Esc>. Then put in <code>5@a</code> it will become</p><pre tabindex=0><code>Hello = print(&#34;Hello&#34;)
Thank = print(&#34;Thank&#34;)
You = print(&#34;You&#34;)
Are = print(&#34;Are&#34;)
You = print(&#34;You&#34;)
OK = print(&#34;OK&#34;)
</code></pre><p>This is my fist Vim study notes. Hope it would be helpful! To become a master of Vim, there is a long way to go.</p></div><footer class=post-footer><ul class=post-tags><li><a href=gh.ysmiles.com/tags/vim/>Vim</a></li><li><a href=gh.ysmiles.com/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=gh.ysmiles.com/posts/multiple-routers-bridge-connection/><span class=title>« Prev</span><br><span>Multiple routers bridge connection</span></a>
<a class=next href=gh.ysmiles.com/posts/youyuegan/><span class=title>Next »</span><br><span>有关迷之优越感的小故事</span></a></nav></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//ysmiles.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><nav id=TableOfContents><h2></h2><nav id=TableOfContents></nav></nav></article></main><footer class=footer><span>&copy; 2023 <a href=gh.ysmiles.com>YSMILES HOME</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>